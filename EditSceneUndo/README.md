# エディット画面にUndo/Redo機能を追加

## 「カスタムメイド3D2攻略wiki」から来た方へ

[導入の説明](../INSTALL.md)を読んでください。このページに、あなたの欲しいものは無いです


## 既知の問題

現状、以下の問題が存在します

 - AddsModSlider で操作ができる、拡張セーブデータに対応していません。例えば「目の開度」がアンドゥ対象になっていません
 - ランダム機能を使った際に複数回のアンドゥ履歴が記録される


## 概要

エディット画面に Undo / Redo、リセットおよび暫定保存機能を追加します

エディット画面で歯車メニュー内 CM3D2 EditSceneUndo のアイコン (反時計回りの矢印) を押すとウィンドウが表示されます

| 名前          |機能 |
| ------        |---- |
| 戻る          |アンドゥ。１つ前の状態に戻ります。デフォルトのショートカットキーは Ctrl+Z です |
| 進む          |リドゥ。戻したものを復元します。デフォルトのショートカットキーは Ctrl+Y です   |
| 暫定保存      |一時的な保存領域にエディット状態を保存します (セーブはされないので注意してください) |
| 暫定読出      |「暫定保存」で保存したデータを読み込みます |
| 最初に戻す    |エディットを開始した時点の状態に戻します |


## コンパイル

[config.batの設定](../INSTALL.md)を行った後、このディレクトリの compile.bat を実行することでコンパイルができます


## 動作確認

 - コンパイルし、プラグインを生成
 - ゲームを起動して、エディット画面へ移動
 - アイコン (反時計回りの矢印) を押してウィンドウが出ることを確認
 - 顔の形状を変更
 - ウィンドウ内のボタンで操作ができることを確認


## 履歴

 - 0.2.0
    - UIを追加
       - 暫定保存、読み込み機能を追加
       - 最初に戻す（リセット）機能を追加
    - 設定ファイル UnityInjector\Config\EditSceneUndoPlugin.ini を追加

 - 0.1.1
    - シーン変更時に履歴をクリアするように修正
    - プラグインフィルタを削除

 - 0.1.0
    - 最初の版
